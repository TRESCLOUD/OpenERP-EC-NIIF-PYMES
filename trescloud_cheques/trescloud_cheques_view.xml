<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
	<!-- VISTA -->
	<record model="ir.ui.view" id="view_ckeck_form">
	    <field name="name">view.check.form</field>
	    <field name="model">check.check</field>
	    <field name="type">form</field>
	    <field name="arch" type="xml">
	        <form string="Manage checks">
	           <group col="2" colspan="2">
	               <separator colspan="2"></separator> 
	               <field name="supplier" on_change="onchange_partner(supplier)" attrs="{'readonly':[('state','!=','draft')]}"/>
	               <field name="check_number" attrs="{'readonly':[('state','!=','draft')]}"/> 	               
	               <field name="amount" on_change="onchange_amount(amount)" attrs="{'readonly':[('state','!=','draft')]}"/>	
	               <field name="payee_name" attrs="{'readonly':[('state','!=','draft')]}"/>               	               	                                                                            	               
	           </group>
	           <group col="2" colspan="2">
	               <separator colspan="2"></separator> 
	               <field name="journal_id" on_change="onchange_check_number(journal_id)" attrs="{'readonly':[('state','!=','draft')]}"/>
	               <field name="current_date" attrs="{'readonly':[('state','!=','draft')]}"/>	
	               <newline/>
	               <field name="amount_in_words" nolabel="1" colspan="2"/> 	                                                                                         	               
	           </group>     
               <group col="7" colspan="7">                   
                   <separator colspan="6"></separator>
                   <field name="state"/>
                   <button name="check_draft_to_printed" string="Print" type="workflow" states="draft" icon="gtk-go-forward"/>                                                    		
               	   <button name="action_canceled" string="Canceled" states="printed" icon="gtk-go-forward" type="object"/>
				   <button name="action_charged" string="Charged" type="object" states="printed" icon="gtk-go-forward"/>
	               <button name="action_lost" string="Lost" type="object" states="printed" icon="gtk-go-forward"/>
	               <button name="action_rejected" string="Rejected" type="object" states="printed" icon="gtk-go-forward"/> 
               </group>    
	        </form>
		</field>
	</record>
	
	<record model="ir.ui.view" id="view_check_tree">
	    <field name="name">view.check.tree</field>
	    <field name="model">check.check</field>
	    <field name="type">tree</field>
	    <field name="arch" type="xml">
	        <tree string="Vouchers">
	            <field name="current_date"/>
	            <field name="supplier"/>
                <field name="journal_id"/>
	            <field name="check_number"/>				
	            <field name="amount"/>
	            <field name="state"/>	            
	        </tree>
		</field>
	</record>
	
	<!-- ACCION -->
	<record model="ir.actions.act_window" id="action_view_check">
        <field name="name">Cheques</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">check.check</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_check_tree"/>
        <field name="help">With checks you can manage the state of the accounting document.</field>
    </record>
	
	<!-- MENU -->
	<menuitem id="submenu_check" name="Cheques" action="action_view_check" parent="account.menu_finance_payables"/>
	
    </data>
</openerp>